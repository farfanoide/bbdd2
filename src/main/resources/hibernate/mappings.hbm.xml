<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE hibernate-mapping PUBLIC
"-//Hibernate/Hibernate Mapping DTD//EN"
"http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd">

<!-- Generated May 3, 2016 7:48:01 PM by Hibernate Tools 3.5.0.Final -->
<hibernate-mapping>

    <class name="bd2.model.Cursada" table="CURSADA">
        <id name="id" type="long">
            <column name="ID" />
            <generator class="assigned" />
        </id>
        <many-to-one name="curso" class="bd2.model.Curso" fetch="join">
            <column name="CURSO" />
        </many-to-one>
        <property name="inicio" type="java.util.Date">
            <column name="INICIO" />
        </property>
        <many-to-one name="usuario" class="bd2.model.Usuario" fetch="join">
            <column name="USUARIO" />
        </many-to-one>
        <bag name="pruebas" table="PRUEBA" inverse="false" lazy="true" access="field">
            <key>
                <column name="ID" />
            </key>
            <one-to-many class="bd2.model.Prueba" />
        </bag>
    </class>

    <class name="bd2.model.Curso" table="CURSO">
        <id name="id" type="long">
            <column name="ID" />
            <generator class="assigned" />
        </id>
        <property name="nombre" type="java.lang.String">
            <column name="NOMBRE" />
        </property>
        <many-to-one name="idioma" class="bd2.model.Idioma" fetch="join">
            <column name="IDIOMA" />
        </many-to-one>
        <property name="nivel" type="int">
            <column name="NIVEL" />
        </property>
        <bag name="lecciones" table="LECCION" inverse="false" lazy="true" access="field">
            <key>
                <column name="ID" />
            </key>
            <one-to-many class="bd2.model.Leccion" />
        </bag>
    </class>

    <class name="bd2.model.Diccionario" table="DICCIONARIO">
        <id name="id" type="long">
            <column name="ID" />
            <generator class="assigned" />
        </id>
        <map name="definiciones" table="DICCIONARIO" lazy="true">
            <key>
                <column name="ID" />
            </key>
            <map-key type="java.lang.String"></map-key>
            <element type="java.lang.String">
                <column name="DEFINICIONES" />
            </element>
        </map>
        <one-to-one name="idioma" class="bd2.model.Idioma"></one-to-one>
        <property name="edicion" type="java.lang.String">
            <column name="EDICION" />
        </property>
    </class>

    <class name="bd2.model.Documento" table="DOCUMENTO">
        <id name="id" type="long">
            <column name="ID" />
            <generator class="assigned" />
        </id>
        <many-to-one name="idioma" class="bd2.model.Idioma" fetch="join">
            <column name="IDIOMA" />
        </many-to-one>
        <bag name="parrafos" table="PARRAFO" inverse="false" lazy="true" access="field">
            <key>
                <column name="ID" />
            </key>
            <one-to-many class="bd2.model.Parrafo" />
        </bag>
        <property name="nombre" type="java.lang.String">
            <column name="NOMBRE" />
        </property>
        <property name="complejidad" type="java.lang.Integer">
            <column name="COMPLEJIDAD" />
        </property>
    </class>

    <subclass name="bd2.model.Evaluacion" extends="bd2.model.Tarea" discriminator-value="Evaluacion" lazy="false">
        <many-to-one name="traduccion" class="bd2.model.Traduccion" fetch="join">
            <column name="TRADUCCION" />
        </many-to-one>
        <property name="puntaje" type="int">
            <column name="PUNTAJE" />
        </property>
    </subclass>

    <class name="bd2.model.Idioma" table="IDIOMA">
        <id name="id" type="long">
            <column name="ID" />
            <generator class="assigned" />
        </id>
        <property name="nombre" type="java.lang.String">
            <column name="NOMBRE" />
        </property>
        <one-to-one name="diccionario" class="bd2.model.Diccionario"></one-to-one>
    </class>

    <class name="bd2.model.Leccion" table="LECCION">
        <id name="id" type="long">
            <column name="ID" />
            <generator class="assigned" />
        </id>
        <property name="nombre" type="java.lang.String">
            <column name="NOMBRE" />
        </property>
    </class>

    <joined-subclass name="bd2.model.Moderador" extends="bd2.model.Usuario" table="MODERADOR" lazy="false">
        <key>
            <column name="ID" />
        </key>
        <property name="id" type="java.lang.Long">
            <column name="ID" />
        </property>
        <bag name="idiomas" table="IDIOMA" inverse="false" lazy="true" access="field">
            <key></key>
            <one-to-many class="bd2.model.Idioma" />
        </bag>
        <bag name="evaluaciones" table="EVALUACION" inverse="false" lazy="true" access="field">
            <key></key>
            <one-to-many class="bd2.model.Evaluacion" />
        </bag>
    </joined-subclass>

    <class name="bd2.model.Parrafo" table="PARRAFO">
        <id name="id" type="long">
            <column name="ID" />
            <generator class="assigned" />
        </id>
        <property name="texto" type="java.lang.String">
            <column name="TEXTO" />
        </property>
        <many-to-one name="documento" class="bd2.model.Documento" fetch="join">
            <column name="DOCUMENTO" />
        </many-to-one>
    </class>

    <class name="bd2.model.Prueba" table="PRUEBA">
        <id name="id" type="long">
            <column name="ID" />
            <generator class="assigned" />
        </id>
        <property name="puntaje" type="int">
            <column name="PUNTAJE" />
        </property>
        <many-to-one name="leccion" class="bd2.model.Leccion" fetch="join">
            <column name="LECCION" />
        </many-to-one>
    </class>

    <class name="bd2.model.Sitio" table="SITIO">
        <id name="id" type="long">
            <column name="ID" />
            <generator class="assigned" />
        </id>
        <bag name="usuarios" table="USUARIO" inverse="false" lazy="true" access="field">
            <key>
                <column name="ID" />
            </key>
            <one-to-many class="bd2.model.Usuario" />
        </bag>
        <bag name="cursos" table="CURSO" inverse="false" lazy="true" access="field">
            <key>
                <column name="ID" />
            </key>
            <one-to-many class="bd2.model.Curso" />
        </bag>
        <bag name="documentos" table="DOCUMENTO" inverse="false" lazy="true" access="field">
            <key>
                <column name="ID" />
            </key>
            <one-to-many class="bd2.model.Documento" />
        </bag>
    </class>

    <class name="bd2.model.Tarea" table="TAREA" abstract="true">
        <id name="id" type="long">
            <column name="ID" />
            <generator class="assigned" />
        </id>
        <discriminator type="string">
            <column name="DISCR_COL" />
        </discriminator>
        <property name="fecha" type="java.util.Date">
            <column name="FECHA" />
        </property>
        <property name="descripcion" type="java.lang.String">
            <column name="DESCRIPCION" />
        </property>
        <property name="completa" type="java.lang.Boolean">
            <column name="COMPLETA" />
        </property>
    </class>

    <subclass name="bd2.model.Traduccion" extends="bd2.model.Tarea" discriminator-value="Traduccion" lazy="false">
        <property name="texto" type="java.lang.String">
            <column name="TEXTO" />
        </property>
        <many-to-one name="parrafo" class="bd2.model.Parrafo" fetch="join">
            <column name="PARRAFO" />
        </many-to-one>
        <many-to-one name="idioma" class="bd2.model.Idioma" fetch="join">
            <column name="IDIOMA" />
        </many-to-one>
    </subclass>

    <class name="bd2.model.Usuario" table="USUARIO">
        <id name="id" type="long">
            <column name="ID" />
            <generator class="assigned" />
        </id>
        <property name="email" type="java.lang.String">
            <column name="EMAIL" />
        </property>
        <property name="nombre" type="java.lang.String">
            <column name="NOMBRE" />
        </property>
        <property name="fechaDeCreacion" type="java.util.Date">
            <column name="FECHADECREACION" />
        </property>
        <bag name="traducciones" table="TRADUCCION" inverse="false" lazy="true" access="field">
            <key>
                <column name="ID" />
            </key>
            <one-to-many class="bd2.model.Traduccion" />
        </bag>
        <bag name="cursadasRealizadas" table="CURSADA" inverse="false" lazy="true" access="field">
            <key>
                <column name="ID" />
            </key>
            <one-to-many class="bd2.model.Cursada" />
        </bag>
    </class>
</hibernate-mapping>
